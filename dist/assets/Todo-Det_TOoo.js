import{r as p,o as d,c,a as t,w as f,v as k,t as h,b as x,F as T,d as N,e as L,f as S,g as v,h as w,i as C,u as B,j as b,n as z,k as M,_ as W}from"./index-BulFwhLS.js";const Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASmSURBVHgBvVhNVuNGEK5uC2PIxnOCeE4QTxZjkixQ1nmJ7RPYnIDhBMAJ4jlB4AS25r2sRyzyA4tgTjDkBKNNBsmM1anqH1mSW7KEeVPv8bDUrdZX9VV/VS0GW9j0tt2GMBwwBoeMsYEQYiYEnA+/C+9hC2N1JmsQXcZZH0G4IETXNg/BXWwDbiOo6V+tDmeizzjHSACBaENFeyq4NVB5SjaACIgynOvj3DECcOEZwCWgMCJuo8FOixZOgZgzELN4GV8Nf3icmwHv791jYHxi5tmcqQqOaUBjztlvtgkCgF7sI4Wz5U7rbvgqCGzzJM2cfZCLYuSWS3HUaHB0UozrgmPpxYyXhpK42fKKQNjMu977CDpCcXP3BT1L69cF5+gHFEKA2bK5e7QCEkIdU86wsVxrEZ1O/9i5xJ/dOI4xemyNUjVXvvsocx+9oyh1pHexeLmNxlBeYtTfQz0L+r2HF+kb3ABCu99W9PB5Hz0/KxrHSMpxxoRL6aFvtzGiGb1zYLVTKutPmfV74fn05iuvAeIYaesgR3MUWz92mlfp/MTdOsPd6tJv3uCHoDaUAoV55COrUo8o/Mrb7Wz4+j96wVH27qfMVSzYHdeCRMKM/96aMS5E7CcXHA7hC5l2XkZOV4rEOCL2zIWsZ89kJAUkqO9u9t7TZpr+ufsmP4dY0j8lS+a+Q8mND8m8IsRUZupoUwLClCfOvsGXjUHmKAOtNsAafIT/JulnJEtMUmdY8iUoNZjoi+wCYOVBORApARx3kjgUi8gFXljfAypN+ZvEEj4igWqWzlOg4Aq36FgOYltSBMreMYgkGmmrUp6KWHL0uJ+a69oAUW6oYs2sIKCkPE1vW0qLeCPIa6GNJSeFmCZ3kIC1vELd6SL/rgWEtWOg8kQgSH9kVBdRFxyHdJDe8TILap0lJxnEuoeA5A7hi5AGL80Y6c67m/2LWHWaVkqK+rBcVDuWjeSnfrsSXLLo9f6Ag5hqgJNB7+EESqxqa6xNRlUw/nbY+7SW8Jn6i91FEiloNn1YRKCRkqcnNiA8ehgllHCmSpMlyajOqY4U/F9eh1dQYnmWMnvYu9m/NR47O6Lz07fhv0UeWexeLS7mdfuwPEsO5L0DJfmfHyW/l7nn00U7SXSnyWZZB8JEw5CQD1ikL6HMcixlQcXCwxx5owCug8J+6xUq70i2u/lENxqGlV+ohG2rBo5hR9AM+gcLrwgTrWN2P/1lQEGrNUfEUsz0DspUeq0x5yYaGgz196dqQQY2CUOw97DZDAsBzyPGKBi9af/+T+vrTSuhFh2DJc/SDd3Pvce7sjW86/0zSCQk9h37Yqpb+LwQmT7HaiLGLc4oD2Wibzr1GDO6hse6Eb7TNfcx6pP1w2iqz0bUs8FBNIRnsGq6Js6oc7WW9dRRaa2prwUkXWrKj/wBRvysfxBJVqygVsVX7rgfq7bITz3y53XNsc0Wcbxq6lPNVwGIFSVK5aEERKGupY0VvYwvoo/mGruAk+H30USO1fgKIzcNnmaqJn8pKLLZ9d6vph5pMws+iZI6Vvp9CvXjAv0dQTmIgp7q6Vblo9kYPR+Zk07VrzDb2P+F0wsTplorwQAAAABJRU5ErkJggg==",y={class:"modal modal_add"},O={class:"modal_inputs"},H={class:"span"},I={class:"modal_inputs"},q={key:0,class:"eror_text"},R={class:"span"},j={class:"modal_bottom modal_bottom-add"},J={__name:"modalAddItem",props:{erorText:Object},emits:["modalClose","addListTodo"],setup(A){const a=p(""),i=p("");return(l,e)=>(d(),c("div",y,[e[7]||(e[7]=t("h2",{class:"title-2"},"Добавление заметки",-1)),t("div",O,[e[4]||(e[4]=t("label",{for:""},"Название заметки",-1)),f(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),placeholder:"Введите название"},null,512),[[k,a.value]]),t("span",H,h(a.value.length)+"/100",1)]),t("div",I,[e[5]||(e[5]=t("label",{for:""},"Текст заметки",-1)),f(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.value=r),class:"textarea",type:"text",placeholder:"Введите текст"}," ",512),[[k,i.value]]),A.erorText.type?(d(),c("div",q,h(A.erorText.resp[0]),1)):x("",!0),t("span",R,h(i.value.length)+"/500",1)]),t("div",{class:"close",onClick:e[2]||(e[2]=r=>l.$emit("modalClose",!1))},e[6]||(e[6]=[t("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 1L17 17M17 1L1 17",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1)])),t("div",j,[t("button",{onClick:e[3]||(e[3]=r=>l.$emit("addListTodo",a.value,i.value)),class:"btn"},"Добавить")])]))}},D={class:"todo_all"},G={class:"note-top"},$={class:"title-4"},K={class:"note-mid"},Q={class:"text"},Z={class:"note-bot"},X=["onClick"],F={__name:"todoItem",props:{todoList:Array},emits:["deleteTodo"],setup(A){return(a,i)=>(d(),c("div",D,[(d(!0),c(T,null,N(A.todoList,l=>(d(),c("div",{class:"note",key:l.id},[t("div",G,[t("h4",$,h(l.title),1)]),t("div",K,[t("p",Q,h(l.content),1)]),t("div",Z,[t("button",{onClick:e=>a.$emit("deleteTodo",l.id),class:"note-bot-btn"},i[0]||(i[0]=[t("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 1L17 17M17 1L1 17",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),L(" Удалить ")]),8,X)])]))),128))]))}},P={class:"header"},tt={class:"container"},et={class:"nav"},ot={class:"person"},st={key:0,class:"modal_exit"},lt={class:"container"},g="https://dist.nd.ru",at={__name:"Todo",setup(A){S(()=>{v.get(g+"/api/notes",{headers:{Authorization:"Bearer "+l}}).then(function(s){console.log(s),a.value=s.data}).catch(function(s){console.log(s)})});const a=p([]),i=localStorage.getItem("email"),l=localStorage.getItem("token"),e=p({type:!1,resp:""}),r=p(!1),u=p(!1),_=s=>{u.value=s},V=(s,o)=>{v.post(g+"/api/notes",{title:s,content:o},{headers:{Authorization:"Bearer "+l}}).then(function(n){console.log(n),u.value=!1,e.value={type:!1,resp:""},v.get(g+"/api/notes",{headers:{Authorization:"Bearer "+l}}).then(function(m){console.log(m),a.value=m.data}).catch(function(m){console.log(m)})}).catch(function(n){e.value={type:!0,resp:n.response.data.message},console.log(n)})},U=()=>{v.delete(g+"/api/auth",{headers:{Authorization:"Bearer "+l}}).then(function(s){console.log(s)}).catch(function(s){console.log(s)}),localStorage.removeItem("email"),localStorage.removeItem("token")},E=s=>{v.delete(g+`/api/notes/${s}`,{headers:{Authorization:"Bearer "+l}}).then(function(o){v.get(g+"/api/notes",{headers:{Authorization:"Bearer "+l}}).then(function(n){console.log(n),a.value=n.data}).catch(function(n){console.log(n)})}).catch(function(o){console.log(o)})};return(s,o)=>{const n=M("RouterLink");return d(),c("div",{class:z(u.value?"body--active":"")},[t("header",P,[t("div",tt,[t("nav",et,[w(n,{to:"/about"},{default:C(()=>o[2]||(o[2]=[t("img",{alt:"Vue logo",class:"logo logo1",src:W,width:"218px",height:"50px"},null,-1),t("img",{alt:"Vue logo",class:"logo logo2",src:Y,width:"218px",height:"50px"},null,-1)])),_:1}),t("div",ot,[t("p",null,h(B(i)?B(i):"e-mail@mail.mail"),1),t("a",{href:"#",onClick:o[0]||(o[0]=m=>r.value=!r.value),class:"person_icon"},o[3]||(o[3]=[t("svg",{width:"22",height:"28",viewBox:"0 0 22 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"11",cy:"6",r:"5",stroke:"white","stroke-width":"2"}),t("path",{d:"M21 28V20C21 17.7909 19.2091 16 17 16H5C2.79086 16 1 17.7909 1 20V28",stroke:"white","stroke-width":"2"})],-1)])),r.value?(d(),c("div",st,[w(n,{class:"modal_exit-link",onClick:U,to:"/"},{default:C(()=>o[4]||(o[4]=[L("Выйти")])),_:1})])):x("",!0)])])])]),t("main",null,[t("div",lt,[t("div",null,[w(F,{onDeleteTodo:E,todoList:a.value},null,8,["todoList"])])])]),t("button",{class:"btn btn_abs",onClick:o[1]||(o[1]=m=>u.value=!u.value)},o[5]||(o[5]=[t("svg",{width:"22px",height:"22px",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 9H17M9 1L9 17",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1)])),u.value?(d(),b(J,{key:0,erorText:e.value,onAddListTodo:V,onModalClose:_},null,8,["erorText"])):x("",!0)],2)}}};export{at as default};
